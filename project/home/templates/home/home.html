<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
  <head>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <script   src="https://code.jquery.com/jquery-2.2.4.min.js"   integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="   crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script type="text/javascript" src = "{% static 'js/index.js' %}"></script>
  </head>
  <body>
    <div class="container">
      <div class="row">
          <div class="col-xs-9" id="logoname">
            <img class = "logo" id = "Bonhalla" src="{% static 'img/Bonhalla.png' %}">
            <div class = "logo" id = "trademark">
            <h1 class = "logo" id="heading">Bondo</h1>
            <br>
            <h5 class = "logo" id="Subheader">The Portal to Bondhalla</h5>
          </div>
          </div>
          <div class="col-xs-3" id = "logout">
          <h5> Welcome: {{request.user.username}} </h5>
            <form action="{% url 'home:logout' %}" method="POST">
            {% csrf_token %}
    
            <input type="submit" value="Logout" /> 
          </form>
          </div>
        </div>
        <div id = "menu">
          <a  href="/quick_search" id = "quick_search" class="btn btn-info" role="button">Quick Search</a>
          <a  href="/broad_range" id = "broad_range_search" class="btn btn-info" role="button">Broad Range</a>
          <a  href="/bond_screen" id = "screen_bond_search" class="btn btn-info" role="button">ScreenBonds</a>
          <a  href="/search" id = "search" class="btn btn-info" role="button">Search</a>
          <a  href="/markets" id = "market_search" class="btn btn-info" role="button">Markets</a>
          <a  href="/characteristic" id = "characteristic_search" class="btn btn-info" role="button">Characteristics</a>

        </div>
        <div id="form-zone" class = "borderbox">
        </div>
  </div>
  <script id = "quick_search_template" type = "template">
             <h1> Quick Search </h1>
                <form action="{% url 'home:quick_search' %}" method="POST">
             <hr/>

            <div>
              <div>CUSIP</div>
              <div>{{ quick_search_form.CUSIP }}<input type="submit" value="Build List" /> </div>
            </div>
            <div>
              <div>Spread</div>
              <div>{{  quick_search_form.Spread }} </div>    
            </div>
          </div>
             <!--
                <table id = "1"style="width:50%">
      
            <tr>
              <td>State</td>
              <td>{{ quick_search_form.state }}</td>
            </tr>
            
            <tr>
              <td>CUSIP</td>
              <td>{{ quick_search_form.CUSIP }}<input type="submit" value="Build List" /> </td>
      
            </tr>
            <tr>
              <td>Description</td>
              <td> {{quick_search_form.description}} </td>
            </tr>
      
            <tr>
              <td>Spread</td>
              <td>{{  quick_search_form.Spread }} </td>    
            </tr>
          </table>
          -->
              {% csrf_token %}
          <input type="submit" name = "Home" value="Submit" />
      </form>
  </script>
  <script id = "broad_range_template" type = "template">
          <form action="{% url 'home:broad_range' %}" method="POST">


          <div class="container-fluid">
           <div class="row">
              <div class="col-md-2"></div>
              <div class="col-md-2">Minimum</div>
              <div class="col-md-2">Maximum</div>
            </div>
            <div class="row">
              <div class="col-md-2">Quantity</div>
              <div class="col-md-2">{{ bond_range_form.quantity_min}}</div>
              <div class="col-md-2">{{ bond_range_form.quantity_max}}</div>
            </div>
            <div class="row">
              <div class="col-md-2">Years</div>
              <div class="col-md-2">{{ bond_range_form.quantity_min}} </div>
              <div class="col-md-2">{{ bond_range_form.quantity_max}}</div>
            </div>
          <div class="row">
              <div class="col-md-2">Coupon </div>
              <div class="col-md-2">{{  bond_range_form.coupon_min }}</div>
              <div class="col-md-2">{{  bond_range_form.coupon_max }}</div>
          </div>
          <div class="row">
              <div class="col-md-2"> Price </div>
              <div class="col-md-2">{{ bond_range_form.price_min }}</div>
              <div class="col-md-2">{{ bond_range_form.price_max }}</div>
          </div>
          <div class="row">
              <div class="col-md-2"> Moodys </div>
              <div class="col-md-2">{{ bond_range_form.Moodys_Rating_Minimum }} </div>
              <div class="col-md-2">{{ bond_range_form.Moodys_Rating_Maximum }}</div>
            </div>
          <div class="row">
              <div class="col-md-2"> SandP </div>
              <div class="col-md-2">{{ bond_range_form.SandP_Rating_Minimum }}</div>
              <div class="col-md-2">{{ bond_range_form.SandP_Rating_Maximum }} </div>
          </div>
          <div class="row">
              <div class="col-md-2"> Fitch </div>
              <div class="col-md-2">{{ bond_range_form.Fitch_Ratings_Minimum }}</div>
              <div class="col-md-2">{{ bond_range_form.Fitch_Ratings_Maximum }} </div>
          </div>
        </div>
        </div>
         <input type="submit" name = "Home" value="Submit" />

      </form>
</script>

           <!--
        <table id = "1"style="width:50%">
            <tr>
              <td></td>
              <td>Minimum</td>
              <td>Maximum</td>
            </tr>
            <tr>
              <td>Quantity</td>
              <td> {{ bond_range_form.quantity_min}} </td>
              <td> {{ bond_range_form.quantity_max}} </td>
            <tr>
            <tr>
              <td>Years</td>
              <td>{{  bond_range_form.years_min  }} </td>
              <td>{{  bond_range_form.years_max }} </td>
            </tr>
          <tr>
              <td>Coupon </td>
              <td> {{  bond_range_form.coupon_min }} </td>
              <td> {{  bond_range_form.coupon_max }}</td>
          </tr>
          <tr>
              <td> Price </td>
              <td> {{ bond_range_form.price_min }} </td>
              <td> {{ bond_range_form.price_max }} </td>
          </tr>
          <tr>
              <td> Moodys </td>
              <td> {{ bond_range_form.Moodys_Rating_Minimum }} </td>
              <td> {{ bond_range_form.Moodys_Rating_Maximum }} <td>
            </tr>
            </tr>
            <tr>
              <td> SandP </td>
              <td> {{ bond_range_form.SandP_Rating_Minimum }} </td>
              <td> {{ bond_range_form.SandP_Rating_Maximum }} </td>
            </tr>
            <tr>
              <td> Fitch </td>
              <td> {{ bond_range_form.Fitch_Ratings_Minimum }} </td>
              <td> {{ bond_range_form.Fitch_Ratings_Maximum }} </td>
          </tr>
        </table>
        -->
  <script id = "screen_bond_template" type = "template">
  <h1>Screen Bonds</h1>
  <form class="form" action = "{% url 'home:bond_screen' %}" method ="POST">
    <div class="col-md-4"> 
            {% csrf_token %}
      <div class="form-group">
        <label for="id_StartCouponRate">
        Search By Issuer: 
        </label>
        {{ screen_bond_form.Issuer }}
      </div>

      <div class="col-md-6 form-group">
        <label for="id_StartCouponRate">
          Start Maturity Date: 
        </label>
        <input id="id_StartMaturityDate" type="date" name="StartMaturityDate">
      </div>

      <div class="col-md-6 form-group">
        <label for="id_StartCouponRate"> 
          End Maturity Date: 
        </label>
        <input id="id_EndMaturityDate" type="date" name="EndMaturityDate">
      </div>

      <div class="col-md-6 form-group">
      <label for="id_StartCouponRate">Start Coupon Rate: </label>
        <input class="form-control" id="id_StartCouponRate" type="number" min="0" max="100" step="0.1" name="StartCouponRate">
      </div>
      
      <div class="col-md-6 form-group">
        <label for="id_EndCouponRate">End Coupon Rate: </label>
        <input class="form-control" id="id_EndCouponRate" type="number" min="0" max="100" step="0.1" name="EndCouponRate">
      </div>
      <div class="col-md-6 form-group">
        <label for="id_Callable">Callable:</label>
        <select name="Callable" class="form-control" id="id_Callable">
          <option selected>Any</option>
          <option>True</option>
          <option>False</option>
        </select>
      </div>
      <div class="col-md-6 form-group">
        <label for="id_Convertible">Convertible:</label>
        <select name="Convertible" class="form-control" id="id_Convertible">
          <option selected>Any</option>
          <option>True</option>
          <option>False</option>
        </select>
      </div>
      <div class="col-md-6 form-group">
        <label for="id_IncludeNonactive">Include Nonactive:</label>
        <select name="IncludeNonactive" class="form-control" id="id_IncludeNonactive">
          <option selected>True</option>
          <option>False</option>
        </select>
      </div>
      <div class="col-md-6 form-group">
        <label for="id_MaxResultCount">Max Result Count: </label>
        <input class="form-control" id="id_MaxResultCount" type="number" min="1" max="20" name="MaxResultCount">
      </div>

    <input type="submit" value="Submit" />
   </div>
  </form>
  </script>
  <script id = "search_template" type = "template">  
            <h1>Search</h1>
            <form action = "{% url 'home:search' %}" method = "POST">
           <label>Search By:</label>
            <select name = "search_method">
              <option selected>Get Last Sale</option>
              <option>Get Price Composite</option>
              <option>Get Daily Open High Low Close Price</option>
              <option>Get Yearly High Low Price</option>
              <option>Get Accrued Interest</option>
              <option>Get Bond Calculation</option>
              <option>Get Duration and Convexity</option>
            </select>
            <br>
                    Identifier: {{ search_form.Identifier }}
                    <br>
                    Identifier Type: {{ search_form.IdentifierType }}
                    <br>
                    Price Source: {{ search_form.PriceSource }}
            <br>
            <input type="submit" value="Search">
        </div>
      </form>
  </script>
  <script id = "market_search_template" type = "template">
    
          <h1> Markets </h1>
          <form action="{% url 'home:markets' %}" method="POST">
         <table id = "1">
    <div>
          <div>Inventory From:</div>
          <div>{{ market_form.inventory_choices }}</div>
        </div>
        <div>
          <div>Include:</div>
          <div>{{ market_form.include_choices }}</div>
        </div>
        <div>
          <div>Limit Offerings to:</div>
          <div>{{ market_form.limit_offerings_choices }}</div>
        </div>
        <div>
          <div>View:</div>
          <div>{{ market_form.window }}</div>
    </div>



    <!--
        <tr>
          <td>Inventory From:</td>
          <td>{{ market_form.inventory_choices }}</td>
        </tr>
        <tr>
          <td>Include:</td>
          <td>{{ market_form.include_choices }}</td>
        </tr>
        <tr>
          <td>Limit Offerings to:</td>
          <td>{{ market_form.limit_offerings_choices }}</td>
        </tr>
        <tr>
          <td>View:</td>
          <td>{{ market_form.window }}</td>
        </tr>
        </table>
        -->
            {% csrf_token %}
        <input type="submit" name = "Home" value="Submit" />
    </form>
  </script>
  <script id = "characteristic_search_template" type = "template">
   <h1> Characteristics </h1>
              <form action="{% url 'home:characteristic' %}" method="GET">
              </form>
          <hr />
          

          <td>Bond Type:</td>
              <td colspan="3">{{ characteristic_form.bond_type }}</td>
            </tr>
    
            <tr>
              <td>Sectors:</td>
              <td colspan="2">{{ characteristic_form.sectors }}</td>
            </tr>
            <tr>
      </div>
      <div>
      <div>Description</div>
      <div> {{quick_search_form.description}} </div>
      </div>
          <h3> Attributes: </h3>
    
         <table id = "attribute" style="width:30%">

            <div>
            <div>State</div>
            <div>{{ quick_search_form.state }}</div>
            </div>
                        
              
                <th colspan="1"></th>
                <th>Only If</th>
                <th>Exclude</th>
                <th>Include</th>
            </tr>
    
            <tr>
                <td>Prerefund</td>
                {% for radio in characteristic_form.prerefund %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}
                
            </tr>
            <tr> 
                <td>Escrowed</td>
    <!--             <th> {{ characteristic_form.escrowed }}</th>
     -->            {% for radio in characteristic_form.escrowed %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}
            </tr> 
            <tr>
                <td>Insured</td>
                <!-- <th> {{ characteristic_form.escrowed }}</th> -->
                {% for radio in characteristic_form.insured %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}
            </tr>
            <tr>
                <td>Insurable</td>
                <!-- <th> {{ characteristic_form.escrowed }}</th> -->
                {% for radio in characteristic_form.insurable %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}
            </tr>
            <tr>
                <td>Taxable</td>
    <!--             <th> {{ characteristic_form.escrowed }}</th> -->
                {% for radio in characteristic_form.taxable %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}
            </tr> 
    
            <tr>
                <td>AMT</td>
    <!--             <th> {{ characteristic_form.escrowed }}</th>
        -->     {% for radio in characteristic_form.amt %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}
            </tr> 
    
          
            <tr> 
                <td>Bank Q</td>
                <!-- <th> {{ characteristic_form.bank_q }}</th> -->
                {% for radio in characteristic_form.bank_q %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}  
            </tr>
            <tr> 
                <td>Callable</td>
                <!-- <th> {{ characteristic_form.callable }}</th> -->
                {% for radio in characteristic_form.callable %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}  
            </tr>
            <tr> 
                <td>Putable</td>
                <!-- <th> {{ characteristic_form.puttable }}</th> -->
                {% for radio in characteristic_form.putable %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}  
            </tr>
            <tr> 
                <td>Float/Var Rt</td>
                <!-- <th> {{ characteristic_form.float_var_rt }}</th> -->
                {% for radio in characteristic_form.float_var_rt %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}  
            </tr>
            <tr> 
                <td>Sinking Fund</td>
                <!-- <th> {{ characteristic_form.float_var_rt }}</th> -->
                {% for radio in characteristic_form.sinking_fund %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}  
            </tr>
            <tr> 
                <td>Convertible</td>
                <!-- <th> {{ characteristic_form.convertible }}</th> -->
                {% for radio in characteristic_form.convertible %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}  
            </tr>
            <tr> 
                <td>Zero Coupon</td>
                <!-- <th> {{ characteristic_form.zero_coupon }}</th> -->
                {% for radio in characteristic_form.zero_coupon %}
                <td> 
                  <label for="{{radio.id_for_label}}">
                    {{ radio.tag }}
                  </label>
                </td>
                {% endfor %}  
            </tr>
        </table>
            {% csrf_token %}
        <input type="submit" name = "Home" value="Submit" />
    </form>
  </script>
</body>
</html>